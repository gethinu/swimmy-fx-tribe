# /orchestrate - 複雑なタスクのPDCAオーケストレーション

複雑なタスクを細分化し、PDCAサイクルで段階的に実行するワークフロー。

## 発動条件

以下のいずれかに該当する場合に使用:
- 推定作業時間が **30分以上**
- 変更対象ファイルが **5つ以上**
- ユーザーが明示的に `/orchestrate` を指定

## 実行手順

### Phase 1: PLAN (計画)

1. **要件分析**
   - ユーザーの依頼内容を明確化
   - 影響範囲を特定（ファイル、コンポーネント）

2. **タスク分解**
   - 依頼を **5-10分単位** の小タスクに分解
   - 各タスクに明確な完了条件を設定
   - `task.md` に書き出し

3. **ユーザー承認**
   - `notify_user` で計画を提示
   - 承認を得てから実行フェーズへ

---

### Phase 2: DO (実行)

各タスクに対して:

// turbo
1. `task_boundary` でタスク開始を宣言
2. 必要なツールで実装
3. `task.md` のチェックボックスを更新

---

### Phase 3: CHECK (検証)

// turbo
1. `/quality-check` ワークフローを実行
2. テストが通らない場合は ACT へ
3. テストが通れば完了

---

### Phase 4: ACT (改善)

テスト失敗時:
1. 失敗原因を分析
2. 修正タスクを `task.md` に追加
3. Phase 2 に戻る

成功時:
1. `walkthrough.md` に成果を記録
2. `notify_user` で完了報告

---

## 注意事項

- **小さなタスクには使わない** (1-2ファイル変更はオーバーヘッド大)
- 各フェーズ間で **ユーザー確認ポイント** を設ける
- **コンテキスト維持** のため `task.md` と `implementation_plan.md` を活用

## 出力アーティファクト

- `task.md` - タスクリスト（進捗追跡用）
- `implementation_plan.md` - 詳細設計（レビュー用）
- `walkthrough.md` - 完了報告
