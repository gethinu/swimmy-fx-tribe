[Unit]
Description=Swimmy Polymarket OpenClaw Status Monitor
After=network.target

[Service]
Type=oneshot
User=swimmy
Group=swimmy
WorkingDirectory=/home/swimmy/swimmy
ExecStart=/home/swimmy/swimmy/.venv/bin/python3 /home/swimmy/swimmy/tools/polymarket_openclaw_status.py --fail-on-problem
Environment=HOME=/home/swimmy
# Avoid loading .env here: status check doesn't need secrets.
EnvironmentFile=-/home/swimmy/swimmy/config/.env.systemd
Environment=POLYCLAW_OUTPUT_DIR=/home/swimmy/swimmy/data/reports/polymarket_openclaw_live
Environment=POLYCLAW_STATUS_MAX_AGE_SECONDS=1800
Environment=POLYCLAW_STATUS_LAST_RUNS=10
Environment=POLYCLAW_STATUS_WINDOW_MINUTES=120
Environment=POLYCLAW_STATUS_MIN_RUNS_IN_WINDOW=1
Environment=POLYCLAW_STATUS_MIN_SENT_IN_WINDOW=0
Environment=POLYCLAW_STATUS_MIN_ENTRIES_IN_WINDOW=0
Environment=POLYCLAW_STATUS_DISCORD_WHEN=problem
Environment=POLYCLAW_STATUS_DISCORD_WEBHOOK_ENV=SWIMMY_DISCORD_ALERTS

StandardOutput=append:/home/swimmy/swimmy/logs/polymarket_openclaw_status.log
StandardError=append:/home/swimmy/swimmy/logs/polymarket_openclaw_status.log
