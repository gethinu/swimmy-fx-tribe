# ğŸŸ Swimmy Ver 18 ã‚ªãƒ¼ãƒŠãƒ¼ã‚ºã‚¬ã‚¤ãƒ‰

**æœ€çµ‚ç‰ˆ:** 2026-01-14 (V18 - Prediction System Refactoring)
**ãƒªãƒ¼ãƒ€ãƒ¼åˆ¤æ–­:** Elon Musk (9/10 Expert Panel Score)

---

## ğŸš€ èµ·å‹• / åœæ­¢ (Systemd)

```bash
# å…¨ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹• (Zombie Processã®ä¸€æƒã‚’å«ã‚€)
make run  # æ¨å¥¨ (kill-zombies ã‚’è‡ªå‹•å®Ÿè¡Œ)

# ã¾ãŸã¯å€‹åˆ¥èµ·å‹•
systemctl --user start swimmy-brain swimmy-guardian swimmy-data-keeper

# å…¨ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢
systemctl --user stop swimmy-brain swimmy-guardian swimmy-data-keeper

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
make status

# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ç›£è¦–
make logs
```

---

## ğŸ”® äºˆæ¸¬ã‚·ã‚¹ãƒ†ãƒ  (V18)

V18ã§äºˆæ¸¬ã‚·ã‚¹ãƒ†ãƒ ãŒå¤§å¹…æ”¹å–„ã•ã‚Œã¾ã—ãŸã€‚

**å­¦ç¿’ã‚µã‚¤ã‚¯ãƒ«:**
```
ç²¾åº¦ < 45% â†’ é–¾å€¤ +5% (ä¿å®ˆåŒ–)
ç²¾åº¦ > 70% â†’ é–¾å€¤ -3% (ç©æ¥µåŒ–)
```

**è¨­å®šå¤‰æ›´å¯èƒ½ãªå¤‰æ•°:**
```lisp
*prediction-weight-trend*      ; ãƒˆãƒ¬ãƒ³ãƒ‰é‡ã¿ (3.0)
*prediction-weight-volatility* ; ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£é‡ã¿ (2.0)
*prediction-min-confidence*    ; æœ€å°ä¿¡é ¼åº¦ (0.50)
*prediction-block-threshold*   ; ãƒ–ãƒ­ãƒƒã‚¯é–¾å€¤ (0.30)
```

**ãƒ­ã‚°ã‚¿ã‚°:**
- `[PREDICT]` - äºˆæ¸¬çµæœ
- `[LEARN]` - é–¾å€¤è‡ªå‹•èª¿æ•´

---

## ğŸ“‹ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MT5 EA (SwimmyBridge Ver 15.2)                     â”‚
â”‚  - 3é€šè²¨ãƒšã‚¢ (USDJPY, EURUSD, GBPUSD)              â”‚
â”‚  - Multi-TF History Support                         â”‚
â”‚  - BUY/SELL/CLOSE/REQ_HISTORY                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  GUARDIAN (Rust)        Port 5557/5559/5560         â”‚
â”‚  - MT5é€šä¿¡ã€æ³¨æ–‡åŸ·è¡Œã€ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã€RiskGate        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  BRAIN (Lisp)           Port 5555/5556 (PUB)        â”‚
â”‚  - ã‚·ã‚°ãƒŠãƒ«ç”Ÿæˆã€å­¦ç¿’ã€Evolutionã€Heartbeat         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  DATA KEEPER (Python)   Port 5561                   â”‚
â”‚  - 10M Candle Buffer (Async Save)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| ã‚µãƒ¼ãƒ“ã‚¹ | systemd name | å½¹å‰² |
|----------|--------------|------|
| Brain | `swimmy-brain` | ã‚·ã‚°ãƒŠãƒ«ç”Ÿæˆã€å­¦ç¿’ã€é€²åŒ– |
| Guardian | `swimmy-guardian` | MT5é€šä¿¡ã€æ³¨æ–‡åŸ·è¡Œã€ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆ |
| Data Keeper | `swimmy-data-keeper` | ãƒ’ã‚¹ãƒˆãƒªã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ– |

---

## ğŸ§¬ SRP ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆ (V15.2)

`school.lisp` ã¯1,226è¡Œã‹ã‚‰**33è¡Œ**ã«åˆ†å‰²ã•ã‚Œã¾ã—ãŸï¼ˆGod Classè§£æ¶ˆï¼‰ã€‚

```
src/lisp/
â”œâ”€â”€ school.lisp                    (33è¡Œ) ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼
â”œâ”€â”€ school/
â”‚   â”œâ”€â”€ school-execution.lisp     (570è¡Œ) å£²è²·ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ school-market.lisp        (216è¡Œ) å¸‚å ´åˆ†æ
â”‚   â”œâ”€â”€ school-risk.lisp          (159è¡Œ) ãƒªã‚¹ã‚¯ç®¡ç†
â”‚   â”œâ”€â”€ school-ecosystem.lisp     (136è¡Œ) ç”Ÿæ…‹ç³»ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ school-memory.lisp        (227è¡Œ) è¨˜æ†¶ãƒ»å­¦ç¿’
â”‚   â””â”€â”€ school-narrative.lisp      (41è¡Œ) Discordæ–‡è¨€
â”œâ”€â”€ school-evolution.lisp         (568è¡Œ) é€²åŒ–ãƒ»çªç„¶å¤‰ç•°
â”œâ”€â”€ school-hunter.lisp           (1090è¡Œ) æˆ¦ç•¥ãƒ¬ã‚¸ã‚¹ãƒˆãƒª
â”œâ”€â”€ school-learning.lisp          (451è¡Œ) å¤±æ•—å­¦ç¿’
â”œâ”€â”€ strategies.lisp               (177è¡Œ) æˆ¦ç•¥ãƒ™ãƒ¼ã‚¹
â”œâ”€â”€ strategies-trend.lisp          (99è¡Œ) ãƒˆãƒ¬ãƒ³ãƒ‰æˆ¦ç•¥
â”œâ”€â”€ strategies-reversion.lisp      (65è¡Œ) ãƒªãƒãƒ¼ã‚¸ãƒ§ãƒ³æˆ¦ç•¥
â”œâ”€â”€ strategies-breakout.lisp       (13è¡Œ) ãƒ–ãƒ¬ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆæˆ¦ç•¥
â””â”€â”€ strategies-scalp.lisp         (196è¡Œ) ã‚¹ã‚­ãƒ£ãƒ«ãƒ—æˆ¦ç•¥
```

---

## ğŸ›¡ï¸ EA (SwimmyBridge) Ver 15.2

MT5ã®Expertsãƒ•ã‚©ãƒ«ãƒ€ã«ã‚³ãƒ”ãƒ¼ã—ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦é©ç”¨ã—ã¦ãã ã•ã„ã€‚

**æ–°æ©Ÿèƒ½:**
- âœ… ãƒãƒ«ãƒã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ å±¥æ­´å¯¾å¿œ (`REQ_HISTORY` + `tf` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿)
- âœ… W1, D1, H4, H1, M30, M15, M5, M1 å¯¾å¿œ
- âœ… BUY/SELL/CLOSE ãƒ­ã‚¸ãƒƒã‚¯å®Œå‚™

**ãƒ­ã‚°ã§ç¢ºèª:**
```
ğŸš€ Swimmy Bridge Ver 15.2 - Multi-TF Support
ğŸ“Š This EA handles: USDJPY only
âœ… PUB connected to Guardian
âœ… SUB connected to Guardian
```

> âš ï¸ Ver 15.1 ä»¥å‰ã¯ `REQ_HISTORY` ã®ã‚¿ã‚¤ãƒ ãƒ•ãƒ¬ãƒ¼ãƒ å¯¾å¿œãŒã‚ã‚Šã¾ã›ã‚“ã€‚å¿…ãšæ›´æ–°ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ Launch Checklist

```bash
# 1. Quality Gate ç¢ºèª
make quality-gate

# 2. ã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹ç¢ºèª
make status

# 3. MT5 EA ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
# â†’ EA ãƒ­ã‚°ã§ "Ver 15.2" ã‚’ç¢ºèª

# 4. ãƒ­ã‚°ç¢ºèª
tail -30 logs/swimmy.log
tail -10 logs/guardian.log
```

---

## ğŸš¨ ç·Šæ€¥æ™‚å¯¾å¿œ

```bash
# ã‚¾ãƒ³ãƒ“ãƒ—ãƒ­ã‚»ã‚¹ä¸€æƒï¼ˆã‚µãƒ¼ãƒ“ã‚¹å†èµ·å‹•ã§è‡ªå‹•å®Ÿè¡Œï¼‰
make run

# æ‰‹å‹•ã§ã‚¾ãƒ³ãƒ“ã‚’æ®ºã™å ´åˆ
make kill-zombies

# ãã®å¾Œã€æ­£å¸¸ã«å†èµ·å‹•
systemctl --user restart swimmy-brain swimmy-guardian swimmy-data-keeper
```

> âš ï¸ Systemd ã® `ExecStartPre` ãŒè‡ªå‹•ã§ã‚¾ãƒ³ãƒ“ã‚’å‡¦ç†ã—ã¾ã™ã€‚é€šå¸¸ã¯ `make run` ã§ååˆ†ã§ã™ã€‚

---

## ğŸ“Š æˆ¦ç•¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª

```bash
# Heartbeat ç¢ºèª
grep "ğŸ’“" logs/swimmy.log | tail -3

# Backtest çµæœç¢ºèª
grep "ï¿½" logs/swimmy.log | tail -10

# Evolution ç¢ºèª
grep "ğŸ§¬" logs/swimmy.log | tail -10
```

---

## ğŸ§­ Swimmy Philosophy

### 1. Speed = Survival
Rustã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆé€Ÿåº¦ï¼ˆ50,000æœ¬/msï¼‰ã§ã€Œå¤±æ•—ã‚’é«˜é€Ÿã«æ¨ã¦ã‚‹ã€ã€‚

### 2. Hot Reloading = Adaptation
Lispã§ã‚·ã‚¹ãƒ†ãƒ åœæ­¢ãªã—ã«ãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£å¯èƒ½ã€‚

### 3. SRP = Antifragility
28ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«åˆ†å‰²ã™ã‚‹ã“ã¨ã§ã€1ç®‡æ‰€ã®éšœå®³ãŒå…¨ä½“ã‚’æ®ºã•ãªã„ã€‚

> **"Don't fix what isn't broken. Ship it."** â€” Elon Musk

---

## â“ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q. EA ãŒ Ver 15.1 ã®ã¾ã¾
**A.** `src/mt5/SwimmyBridge.mq5` ã‚’MT5ã«ã‚³ãƒ”ãƒ¼ã—ã€MetaEditorã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã€‚

### Q. ãƒˆãƒ¬ãƒ¼ãƒ‰ãŒã‚¨ãƒ³ãƒˆãƒªãƒ¼ã•ã‚Œãªã„
1. EA Ver 15.2 ãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
2. å¸‚å ´ãŒã‚ªãƒ¼ãƒ—ãƒ³ã—ã¦ã„ã‚‹ã‹ç¢ºèª
3. ãƒ­ã‚°ã« `ğŸ§ª Batch testing` ãŒå‡ºã¦ã„ã‚‹ã‹ç¢ºèª

### Q. HISTORY ãƒ‡ãƒ¼ã‚¿ãŒæ¥ãªã„
1. EA ãƒ­ã‚°ã« `ğŸ“Š Sending ... candles` ãŒå‡ºã¦ã„ã‚‹ã‹ç¢ºèª
2. Brain ãƒ­ã‚°ã« `[DATA-CLIENT] Data Keeper is ONLINE` ãŒã‚ã‚‹ã‹ç¢ºèª
3. Protocol: Brain ã¯ `REQ_HISTORY` ã‚’é€ä¿¡ã™ã‚‹å¿…è¦ã‚ã‚Šï¼ˆ`GET_HISTORY` ã¯éå¯¾å¿œï¼‰

### Q. ãƒ¡ãƒ¢ãƒªä¸è¶³ (OOM)
Data Keeper ã¯ 10M Candle Buffer ã‚’ä½¿ç”¨ã€‚M1 ã¯ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚
