# 🦈 Swimmy FX V5.0 基本思想レビュー

**レビュー日**: 2025-12-30 09:18  
**レビュアー**: Antigravity AI

---

## 1. 核心理念（健全性評価）

### 憲法
```
「勝とうとするな。ただ、生き残れ。
 そうすれば、最後に立っているのは我々だ。」
```

| 評価 | スコア | 根拠 |
|------|--------|------|
| ✅ 健全 | 10/10 | 損失回避優先は複利成長の基本。行動経済学的にも正しい。 |

---

## 2. 設計思想

### 3層アーキテクチャ

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   MT5       │◄──►│  Guardian   │◄──►│   Brain     │
│  (Windows)  │    │   (Rust)    │    │   (Lisp)    │
│  約定執行   │    │  高速処理   │    │  戦略判断   │
└─────────────┘    └─────────────┘    └─────────────┘
       ▲                 ▲                  ▲
    ZeroMQ            ZeroMQ          61戦略 + 学習
```

| 評価 | スコア | 根拠 |
|------|--------|------|
| ✅ 健全 | 9/10 | 言語ごとの責務分離、疎結合。ZeroMQで高速通信。 |

### 課題
- Heartbeat追加済み ✅
- スリッページモデル追加済み ✅

---

## 3. 4カテゴリシステム

| カテゴリ | 哲学 | 配分 | 評価 |
|------|------|------|------|
| 🏹 Trend | トレンド追従 | 40% | ✅ 正統派 |
| 🔮 Reversion | 平均回帰 | 30% | ✅ 理論的 |
| ⚡ Breakout | ボラ活用 | 20% | ⚠️ リスク高 |
| 🗡️ Scalp | スキャル | 10% | ⚠️ コスト高 |

| 総合評価 | スコア | 根拠 |
|----------|--------|------|
| ✅ 概ね健全 | 8/10 | 多様性確保。ただしBreakout/Scalpの勝率要監視。 |

---

## 4. 61戦略システム

### 戦略構成

| タイプ | 数 | 例 |
|--------|----|----|
| SMA系 | 20+ | SMA-Cross-5-20, Golden-Classic |
| EMA系 | 10+ | Scalp-Cross-5-12, Triple-EMA |
| RSI系 | 10+ | RSI-Reversal-30-70, RSI-Momentum |
| BB系 | 10+ | BB-Squeeze-20-2, BB-Walk-Upper |
| MACD系 | 5+ | MACD-Classic, MACD-Zero-Cross |
| 複合 | 6+ | Holy-Grail-Proxy, Bladerunner |

| 評価 | スコア | 根拠 |
|------|--------|------|
| ✅ 健全 | 9/10 | 多様なインジケータ。相関分析で冗長削除可能。 |

### V5.0修正
- `LOW-PREV`, `HIGH-PREV` バインディング追加 ✅
- `cross-above/below`変換がすべての戦略で動作 ✅

---

## 5. 学習フィードバック

### 3種の学習メカニズム

```
┌─────────────────────────────────────────────┐
│  長老の知恵 (Elder Lessons)                 │
│  ・失敗パターン記憶                          │
│  ・24時間で10%減衰                           │
│  ・n≥3で警告発動                             │
└─────────────────────────────────────────────┘
        ↓
┌─────────────────────────────────────────────┐
│  バックテスト自動調整                        │
│  ・Sharpe < 0 → SL縮小, Volume-20%          │
│  ・Sharpe > 1 & Win > 55% → TP拡大          │
│  ・R:R < 2:1 → TP+5%                        │
└─────────────────────────────────────────────┘
        ↓
┌─────────────────────────────────────────────┐
│  ゲノム進化 (Rust Guardian)                  │
│  ・Eloレーティング                           │
│  ・交配 + 突然変異                           │
│  ・クローン検出                              │
└─────────────────────────────────────────────┘
```

| 評価 | スコア | 根拠 |
|------|--------|------|
| ✅ 健全 | 9/10 | 多層学習。減衰で古い教訓を忘れる。 |

---

## 6. リスク管理

| 機能 | 実装 | 評価 |
|------|------|------|
| 最大露出制限 | `total-exposure-allowed-p` | ✅ |
| ボラティリティフィルタ | `volatility-allows-trading-p` | ✅ |
| 危険回避 | `is-safe-to-trade-p` | ✅ |
| クールダウン | `can-category-trade-p` | ✅ |
| ドローダウン監視 | `check-drawdown` | ✅ |

| 総合評価 | スコア | 根拠 |
|----------|--------|------|
| ✅ 健全 | 9/10 | 多重安全装置。過剰リスク防止。 |

---

## 7. 運用パラメータ（V5.0最新）

| 項目 | 値 | 根拠 |
|------|-----|------|
| バックテスト | 5分ごと | APIコスト/精度バランス |
| Evolution | 30分ごと | Rust計算負荷考慮 |
| Dreamer | 30分ごと | Gemini API制限 |
| チーム再編成 | 1分ごと | 市場変化追従 |
| スリッページ | 2pips | 現実的コスト反映 |
| Heartbeat | 10秒 | 接続監視 |

---

## 8. 現在の課題と対応状況

| 課題 | 状態 | 対応 |
|------|------|------|
| 同時エントリー | ✅ 解決 | `transform-cross-calls`追加 |
| 複数ポジション通知 | ✅ 解決 | MT5 V11.0でbreakを削除 |
| LOW-PREV未定義 | ✅ 解決 | バインディング追加 |
| バックテスト過多 | ✅ 解決 | 5分間隔+別チャンネル |
| NN学習未連携 | ⚠️ 未着手 | neural.rs存在、Lisp未接続 |
| 反対派氏族なし | 📝 検討中 | 確証バイアス対策として検討 |

---

## 9. 総合評価

| カテゴリ | スコア |
|----------|--------|
| 核心理念 | 10/10 |
| アーキテクチャ | 9/10 |
| 氏族システム | 8/10 |
| 戦略多様性 | 9/10 |
| 学習機構 | 9/10 |
| リスク管理 | 9/10 |
| **総合** | **9.0/10** |

---

## 10. 推奨アクション（優先順）

1. **NN学習連携** - 50トレードでモデル学習開始
2. **Walk-forward検証** - 過学習防止
3. **反対派カテゴリ** - 少数意見を取り入れる仕組み
4. **単体テスト拡充** - 主要20関数のテスト

---

## 結論

> **Swimmy FX V5.0は、思想・設計・実装の全てにおいて健全なシステムである。**
> 
> 特に「生き残る」という核心理念に基づくリスク管理の多層構造は優れている。
> 今後はNN学習連携とWalk-forward検証を追加することで、より堅牢なシステムになる。
